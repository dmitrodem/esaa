В момент подачи питания ЭБУ входит в режим ожидания спец. сообщения по CAN для перевода в BOOT режим. Реализовано через анализ регистра 
статуса операции reset (при первом старте ожидание boot, далее стандартная загрузка). Если сообщение получено, то переход в режим работы по протоколу boot режима через CAN.
 Если в boot не вошли, то выполняется программный сброс srst и далее обычная загрузка.

Рабочая частота CPU - 40МГц. f = 20/(5 * 1) *Fext. Pdiv = 1, Ndiv = 20, K2div = 4, Fext = 8МГц

Для управления зажиганием используется блок захвата и сравнения CCU2 -  каналы 16, 17, 18, 19.
Для задания момента зажигания используется виртуальное пространство с размерностью 960 единиц (60 зубок ДПКВ * 2 (рабочий цикл 2 оборота КВ) * 8 (коэффициент увеличения точности)).
Все значения зажигания задаются в величинах 0 - 960.
Управление организовано через обработчик прерывания по совпадению значения таймера T7 и регистра сравнения соответствующего канала.
Таймер Т7 сконфигурирован в режиме счета импульсов от переполнения таймера Т6 (то есть в 8 раз точнее, чем счет времени межуд двумя событиями ДПКВ).

Таймер Т3:
	период 1 мсек
	
Таймер Т5:
	Частота 1,25МГц, разрешение 800 нсек (fGPT/32)
	Очистка при выполнении операции захвата
	Выполняет счет временных интервалов 800нс между событиями ДПКВ
	
Таймер Т6:
	Работа в режиме таймера
	Перезагрузка из регистра CAPREL
	Счет вниз
	Частота 10МГц, разрешение 100 нсек, период 6,55 мсек (fGPT/4)
	Выполняет более точный счет интервалов времени от последнего события ДПКВ
	
Таймеры Т5 и Т6 работают в связке используя регистр CAPREL для захвата и перезагрузки.
Захват значения Т5 в CAPREL выполняется по сигналу CAPIN (порт P2.10 - ДПКВ). Далее выполняется обратный счет таймером Т6 значения из CAPREL до момента обнуления.

С использованием модуля Timer Block GPT2 (Т5 и Т6) построен обработчик ДПКВ. ДПКВ подключен к порту Р2.10, в регистре CAPREL сохраняется время между зубцами репера, 
отсчитываемое таймером Т5. Этот комбинированный режим используется для обнаружения последовательных событий ДПКВ, которые могут
происходить апериодически, и подсчета времени между двумя событиями с более высоким разрешением. 
Таймер T6 работает в 8 раз быстрее, чем T5 таймер, и будет перезагружен 8 раз в течении времени между двумя внешними событиями ДПКВ.
Соответственно, выход  pin T6OUT имеет в 8 раз большую частоту чем CAPIN (порт P2.10 - ДПКВ).

Модуль захвата/сравнения CCU2:
	Таймер Т7:
		Режим счета импульсов от Т6
	Таймер Т8:
		Режим таймера частота 1,25МГц, разрешение 800 нсек
	
	
Таймер Т2:
	Режим подсчета импульсов от схемы детекции детонации

Модуль CCU62:
	T12 - в режиме захвата
	Предназначен для обработки сигнала частотного ДМРВ.
	Через канал 0 осуществляется подсчет периода между соседними импульсами ДМРВ
	Частота подсчета импульсов (fccu / 2) (предположительно 20 МГц, с разрешением 50 нс)
	Период работы модуля до формирования прерывания (0xFFFF + 1 тик,  3,2 мс)

Модуль CCU61:	
	Т12 - в режиме сравнения
	Предназначен для формирования сигналов SCLK для обмена с микросхемами по протоколу SPI (порт Р0.5, CCU61 Channel 2)
	Формирование PWM для управления электронной дроссельной заслонкой (порт Р0.6, CCU61 Channel 3)
	?Формирвоание PWM для управления продувкой адсорбера (порт Р?, CCU61 Channel 2)
	Период работы модуля для Т12 (0x1312 + 1 тик, 0,2 мс)
	Период Т13 (0хA6A + 1 тик, частота 40Мгц, разрешение 25 нс) - 66 мкс

Модуль RTC:
	Организация цикла 8мс в обработчике RTC
	Организация цикла 80мс_320мс через прерывание USIC2_CH0_SR0
	Организация цикла 800мс_2с_240с через прерывание USIC2_CH0_SR1
	
CAN NODE 0: выведен на колодку ЭБУ
CAN NODE 1: выведен на внутреннй разъем (P1-P2)

Обработчик ДПКВ:

	На 31 зубе ДПКВ запускается расчет GBC усредненного за 30 предыдущих зубов (обычное среднее арифметическое)

U1C0:
	The SSC (SPI) protocol is selected
	Управление TLE6240GP, XC866 и ...

Карта приоритетов системы прерываний:
|==========================================================================|============|
|  LEVEL  |  SUBLEVEL  |  DESCRIPTION                                      |  REG       |
|==========================================================================|============|
|  15     |  1         | Запись FLASH                                       | SCU_0IC    |
|  14     |  3         | Система управления зажиганием - К2                    | CC2_CC17IC |
|  14     |  2         | Система управления зажиганием - К1                    | CC2_CC16IC |
|  14     |  1         | Система управления зажиганием - К4                    | CC2_CC19IC |
|  14     |  0         | Система управления зажиганием - К3                    | CC2_CC18IC |
|  13     |  0         | Обработчик импульса зажигания                         | CC2_CC27IC |
|  12     |  3         | Обработчик форсунки 4                                | CC2_CC31IC |
|  12     |  2         | Обработчик форсунки 3                                | CC2_CC30IC |
|  12     |  1         | Обработчик форсунки 2                                | CC2_CC29IC |
|  12     |  0         | Обработчик форсунки 1                                | CC2_CC28IC |
|  10     |  3         | Обработчик ДПКВ                                     | GPT12E_CRIC|
|  10     |  0         | Обработчик частотного ДМРВ                            | CCU62_0IC |
|  9      |  3         | Обработчик передачи по KLINE                         | U0C0_1IC   |
|  9      |  2         | Обработчик алгоритма детекции детонации                 | CC2_CC20IC |
|  9      |  1         | Обработчик приема по KLINE                           | U0C0_0IC   |
|  9      |  0         | Обработчик таймера Т3 (пустой обработчик)               | GPT12E_T3IC|
|  8!     |  0         | Обработчик CAN0                                     | CAN_0IC    |
|  8!     |  0         | Обработчик CAN6                                     | CAN_6IC    |
|  7      |  0         | Обработчки таймера T8 (управление БН)                  | CC2_T8IC  |
|  6      |  0         | Цикл 8 мс (организация циклов 80мс, 800 мс, 8 с, 240 с) | RTC_IC    |
|  5      |  2         | Обработчик ДСА (датчик скорости)                       | CC2_CC24IC|
|  5      |  1         | Сигнал расхода топлива                                | CC2_CC22IC|
|  5!     |  0         | Обработчик схемы DFM генератора                        | CCU63_0IC |
|  5!     |  0         | Обработчик 3,33 зуба КВ (диагностика пропусков воспл. ...) | U2C1_1IC |
|  2      |  0         | Цикл 80 мс                                          | U2C0_0IC  |
|  1      |  0         | Цикл 800 мс, 8 с, 240 с                              | U2C0_1IC  |
|=========|============|=====================================================|===========|

Каналы tle6240
1: Выход Сигнал на ТАХ
2: Выход Сигнал расхода топлива (СРТ)
3: Выход Реле вент. 2 (РВ2)
4: Выход Реле Топливного насоса
5: Выход Реле вент. 1 (РВ1)
6: Выход Дополнительное реле стартера (ДРС)
7: Выход Реле муфты кондиционера (РМК)
8: Выход Лампа диагностики
9: Выход Форсунка 1 (Ф1)
10: Выход Форсунка 2 (Ф2)
11: Выход Форсунка 3 (Ф3)
12: Выход Форсунка 4 (Ф4)
13: Выход Нагреватель датчика кислорода 1 (НДК1)
14: Выход Главное реле (РГЛ)
15: Выход Клапан продувки адсорбера (КПА)
16: Выход Нагреватель датчика кислорода 2  (НДК2)

ADC0 - Порт P5:
P5.0 - Вход ДПДЗ1
P5.2 - Вход Круиз-контроль / инженерный ДАД (27/79)
P5.3 - Вход  Замок заж.  (КЛ15) (33/70)
P5.5 - Вход Датчик температуры воздуха (ДТВ ДМРВ) (10)
P5.8 - Вход  Датчик кислорода 1 (ДК1) (39)
P5.9 - Вход  Датчик кислорода 2 (ДК2) (35)
P5.10 - Вход  Датчик давл фреона (ДДФ) - Medium Level (71)
P5.11 - Вход сред. точка вент-ров (СТВ) (80)
P5.13 - Вход +АБ после главного реле (+АБГР) (77-78)
P5.15

ADC1 - Порт P15:
P15.0 - Вход Датчик педали акселератора 1 (ДПА1)
P15.2 - Вход Датчик педали акселератора 2 (ДПА2)
P15.4 - Вход ДПДЗ2
P15.5 - ДД
P15.6 - Вход Датчик температуры охл. жидкости (ДТОЖ)

Цикл 8 мс:
Накопление суммы значений ДМРВ, для расчета усредненного GBC
Чтение АЦП ДК2/ДК1
Чтение АЦП ДПДЗ1/ДПДЗ2
Расчет положения ДЗ и управление ДЗ
